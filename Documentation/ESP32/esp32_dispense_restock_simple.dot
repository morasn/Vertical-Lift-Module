digraph ESP32DispenseRestockProcess {
    label="ESP32 Dispense/Restock Process";
    labelloc="t";
    fontsize=20;
    rankdir=TB;
    node [fontname="Times New Roman", fontweight=bold];

    Start [label=<<B>Start</B>>, shape=ellipse, style=filled, fillcolor="#cce5ff", fontsize=16];
    KeypadA [label=<<B>Operator presses 'A' on keypad</B>>, shape=parallelogram, style=filled, fillcolor="#fff9e5"];
    RFID [label=<<B>Scan operator RFID</B>>, shape=parallelogram, style=filled, fillcolor="#fff9e5"];
    Auth [label=<<B>Authenticate operator</B>>, shape=diamond, style=filled, fillcolor="#d6eaff"];
    SelectFloor [label=<<B>Select side (F/B) and level</B>>, shape=parallelogram, style=filled, fillcolor="#fff9e5"];
    SelectOp [label=<<B>Select operation (Dispense/Restock)</B>>, shape=parallelogram, style=filled, fillcolor="#fff9e5"];
    Execute [label=<<B>ESP32 executes dispense/restock</B>>, shape=rectangle, style=filled, fillcolor="#ffe5b4"];
    Confirm [label=<<B>Show confirmation</B>>, shape=parallelogram, style=filled, fillcolor="#d4edda"];
    End [label=<<B>End</B>>, shape=ellipse, style=filled, fillcolor="#f8d7da", fontsize=16];

    Start -> KeypadA -> RFID -> Auth -> SelectFloor -> SelectOp -> Execute -> Confirm -> End;
}
